{% extends 'backoffice/base.html.twig' %}

{% block title %}Matchs{% endblock %}

{% block content %}

<div style="padding:30px;">

    <!-- HEADER -->
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:30px;">
        <h2 style="margin:0; font-weight:600;">Gestion des matchs</h2>

        <a href="{{ path('app_matchs_new_admin') }}"
           style="
            background:#4f46e5;
            color:#fff;
            padding:10px 22px;
            border-radius:8px;
            text-decoration:none;
            font-weight:500;
           ">
            ‚ûï Nouveau match
        </a>
    </div>

    <!-- GRID -->
    <div style="
        display:grid;
        grid-template-columns:repeat(auto-fill,minmax(320px,1fr));
        gap:24px;
    ">

        {% for match in matchs %}

        <div style="
            background:#ffffff;
            border-radius:12px;
            padding:20px;
            box-shadow:0 8px 20px rgba(0,0,0,.08);
            border-left:6px solid
                {% if match.statut == 'En Cours' %}#22c55e
                {% elseif match.statut == 'Termin√©' %}#6366f1
                {% else %}#f59e0b{% endif %}
        ">

            <!-- TOP -->
            <div style="display:flex; justify-content:space-between; align-items:center;">
                <strong>Match #{{ match.id }}</strong>

                <span style="
                    font-size:12px;
                    padding:4px 10px;
                    border-radius:20px;
                    color:#fff;
                    background:
                        {% if match.statut == 'En Cours' %}#22c55e
                        {% elseif match.statut == 'Termin√©' %}#6366f1
                        {% else %}#f59e0b{% endif %}
                ">
                    {{ match.statut }}
                </span>
            </div>

            <!-- SCORE -->
            <div style="
                margin:20px 0;
                padding:16px;
                background:#f9fafb;
                border-radius:10px;
                text-align:center;
            ">
               <div style="
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:10px;
">

    <span style="font-size:11px; color:#9ca3af;">
        {{ match.equipe1.nom }}
    </span>

    <span style="font-size:24px; font-weight:600;">
        {{ match.scoreEquipe1 ?? 0 }}
        <span style="font-size:14px; opacity:.5;">VS</span>
        {{ match.scoreEquipe2 ?? 0 }}
    </span>

    <span style="font-size:11px; color:#9ca3af; text-align:right;">
        {{ match.equipe2.nom }}
    </span>

</div>

            </div>

            <!-- DATES -->
            <div style="font-size:13px; color:#6b7280; margin-bottom:14px;">
                <div>üìÖ {{ match.dateMatch|date('d/m/Y') }}</div>
                <div>‚è∞ {{ match.dateMatch|date('H:i') }}</div>
            </div>

            <!-- ACTIONS -->
            <div style="display:flex; gap:10px;">
                <a href="{{ path('app_matchs_show_admin', {'id': match.id}) }}"
                   style="
                    flex:1;
                    text-align:center;
                    padding:8px;
                    background:#e5e7eb;
                    border-radius:6px;
                    text-decoration:none;
                    color:#111827;
                   ">
                    Voir
                </a>

                <a href="{{ path('app_matchs_edit_admin', {'id': match.id}) }}"
                   style="
                    flex:1;
                    text-align:center;
                    padding:8px;
                    background:#4f46e5;
                    border-radius:6px;
                    text-decoration:none;
                    color:#fff;
                   ">
                    Modifier
                </a>
            </div>

        </div>

        {% else %}
            <p>Aucun match trouv√©.</p>
        {% endfor %}

    </div>

</div>

{% endblock %}
